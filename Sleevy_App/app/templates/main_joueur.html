<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Sleevy - Joueur</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style_main_joueur.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Ajout de Chart.js -->


</head>

<body class="gradient-background">
    <main>
        <!-- Conteneur Flex pour aligner Bienvenue + Logout -->
        <div class="header-container">
            <div class="title">Bienvenue {{ player.pseudo }}</div>
            <div class="logout-container">
                <form action="{{ url_for('logout') }}" method="POST">
                    <button type="submit" class="logout-button">Logout</button>
                </form>
            </div>
        </div>
        <div class="fine-line"></div>
    </main>

    <!-- Conteneur pour aligner les boutons -->
    <div class="button-container">
        <div class="input-data">
            <div class="inner"></div>
            <input type="submit" class="submit" value="Lancer l'enregistrement">
        </div>
        <div class="performances-analyse">
            <div class="inner"></div>
            <form action="{{ url_for('analyse_performance') }}" method="GET">
                <input type="submit" class="submit" value="Analyse de performance">
            </form>
        </div>
    </div>

    <!-- Fine line sous les boutons -->
    <div class="fine-line3"></div>

    <div class="square">
        <main>
            <div class="section-title">Derni√®re Partie :
                <span class="tooltip">üõà
                    <span class="tooltip-text">
                        <p>Vous pouvez visualiser les donn√©es brutes de votre derni√®re partie.</p>
                        <p>Si vous souhaitez avoir une analyse d√©taill√©e, veuillez cliquer sur 'Analyse de performance'.</p>
                    </span>
                </span>
            </div>
            <canvas id="myChartPPG" width="500" height="250"></canvas>
            <canvas id="myChartEMG" width="500" height="250"></canvas>
            <canvas id="myChartAccel" width="500" height="250"></canvas>
        </main>

        <div class="vertical-line"></div>

        <div class="container">
            <div class="section-title">Historique :</div>

            <!-- Tableau affich√© en permanence sous Historique -->
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>Num√©ro de la partie</th>
                        <th>D√©but de la session</th>
                        <th>Fin de la session</th>
                        <th>D√©tail de la Session</th>
                    </tr>
                </thead>
                <tbody>
                    {% for session in sessions %}
                    <tr>
                        <td>{{ session.gamenumber }}</td>
                        <td>{{ session.starttime }}</td>
                        <td>{{ session.endtime }}</td>
                        <td>
                            <a href="{{ url_for('detail_joueur', session_id=session.session_id) }}" class="detail-link">
                                D√©tail session
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Chargement du script Chart.js personnalis√© -->
    <script src="{{ url_for('static', filename='js/chart.js') }}"></script>
</body>

</html>
